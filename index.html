<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Impress Your Crush with Code ðŸ’˜</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body, html {
      height: 100%;
      font-family: monospace;
      background-color: black;
      color: white;
    }

    /* Fake Code Editor */
    .editor {
      height: 100%;
      width: 100%;
      background-color: #1e1e1e;
      display: flex;
      flex-direction: column;
    }

    .editor-header {
      background-color: #333;
      padding: 8px 16px;
      color: #ccc;
      font-size: 14px;
      border-bottom: 1px solid #444;
    }

    .editor-body {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      white-space: pre-wrap;
    }

    .hidden {
      display: none !important;
    }

    .output-box {
      height: 100%;
      width: 100%;
      background: black;
      display: none;
      justify-content: center;
      align-items: center;
    }

    canvas {
      background: black;
    }

    span.pink { color: pink; }
    span.red { color: red; }
    span.keyword { color: cyan; }
    span.func { color: yellow; }
    span.string { color: orange; }
    span.number { color: violet; }
  </style>
</head>
<body>

  <!-- Fake Code Editor -->
  <div class="editor" id="editor">
    <div class="editor-header">crush.py - Python (IDLE)</div>
    <div class="editor-body" id="codeBox"></div>
  </div>

  <!-- Output Heart -->
  <div class="output-box" id="outputBox">
    <canvas id="heartCanvas" width="600" height="600"></canvas>
  </div>

  <script>
    const codeLines = [
      `<span class="keyword">import</span> turtle`,
      ``,
      `turtle.<span class="func">speed</span>(<span class="number">3</span>)`,
      `turtle.<span class="func">bgcolor</span>(<span class="string">'black'</span>)`,
      `turtle.<span class="func">pensize</span>(<span class="number">3</span>)`,
      ``,
      `<span class="keyword">def</span> func():`,
      `    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">200</span>):`,
      `        turtle.<span class="func">right</span>(<span class="number">1</span>)`,
      `        turtle.<span class="func">forward</span>(<span class="number">1</span>)`,
      ``,
      `turtle.<span class="func">color</span>(<span class="string">'red'</span>, <span class="string">'pink'</span>)`,
      `turtle.<span class="func">begin_fill</span>()`,
    ];

    const codeBox = document.getElementById("codeBox");
    const editor = document.getElementById("editor");
    const outputBox = document.getElementById("outputBox");
    const canvas = document.getElementById("heartCanvas");
    const ctx = canvas.getContext("2d");

    let line = 0;

    function typeNextLine() {
      if (line < codeLines.length) {
        codeBox.innerHTML += codeLines[line] + "\n";
        line++;
        setTimeout(typeNextLine, 250); // delay per line
      } else {
        setTimeout(() => {
          editor.classList.add("hidden");
          outputBox.style.display = "flex";
          drawHeart();
        }, 800);
      }
    }

    typeNextLine();

    function drawHeart() {
      ctx.translate(canvas.width / 2, canvas.height / 2);
      let t = 0;

      function animate() {
        ctx.clearRect(-canvas.width / 2, -canvas.height / 2, canvas.width, canvas.height);
        ctx.beginPath();
        ctx.fillStyle = "pink";
        ctx.strokeStyle = "red";
        ctx.lineWidth = 2;

        ctx.moveTo(0, 0);
        for (let i = 0; i < t; i += 0.01) {
          let x = 16 * Math.sin(i) ** 3;
          let y = - (13 * Math.cos(i) - 5 * Math.cos(2*i) - 2 * Math.cos(3*i) - Math.cos(4*i));
          ctx.lineTo(x * 10, y * 10);
        }

        ctx.closePath();
        ctx.fill();
        ctx.stroke();

        t += 0.05;
        if (t < Math.PI * 2) {
          requestAnimationFrame(animate);
        }
      }

      animate();
    }
  </script>
</body>
</html>
